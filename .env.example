# SentinelOne API Configuration
# Copy this file to .env and fill in your credentials

# Your SentinelOne console URL (without trailing slash)
# Example: https://your-tenant.sentinelone.net
SENTINELONE_API_URL=

# Your SentinelOne API Token
# Generate from: Console -> Settings -> Users -> [Your User] -> Options -> API Token Operations
SENTINELONE_API_TOKEN=

# Flask / Server Configuration
# Set a stable secret key for sessions (recommended, especially on LAN)
FLASK_SECRET_KEY=

# Bind address and port
FLASK_HOST=0.0.0.0
PORT=5000

# Set to 1 only for local debugging
FLASK_DEBUG=0

# Optional: Basic Auth (recommended if exposing on LAN)
ENABLE_BASIC_AUTH=0
BASIC_AUTH_USERNAME=
BASIC_AUTH_PASSWORD=

# Session cookie security (set SECURE=1 when behind HTTPS)
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_SECURE=0

# Active Directory intake token (rotate periodically)
# Set CURRENT to a strong random value; keep PREVIOUS during rotation to avoid downtime.
AD_INTAKE_TOKEN_CURRENT=
AD_INTAKE_TOKEN_PREVIOUS=

# Optional: override the callback URL used for AD inventory intake.
# Use this if the server is behind a reverse proxy or you want to force a LAN/public URL.
# Example: https://comparison.example.com/ad/intake
AD_CALLBACK_URL=

# Upload pruning
UPLOAD_RETENTION_HOURS=24

# Remediation hardening (recommended)
# If set, ONLY these script IDs are allowed to be executed via /ninjarmm/run-script
NINJARMM_ALLOWED_SCRIPT_IDS=

# Require the device to be currently online before allowing script execution
NINJARMM_REQUIRE_DEVICE_ONLINE=1
NINJARMM_ONLINE_MAX_AGE_SECONDS=300

# Optional: allow the /ninjarmm/test endpoint for troubleshooting
ENABLE_NINJARMM_TEST=0


# NinjaRMM API Configuration
# Your NinjaRMM API URL (usually https://api.ninjarmm.com for US or https://eu-api.ninjarmm.com for EU)
NINJARMM_API_URL=https://api.ninjarmm.com

# Choose ONE of the following authentication methods:

# Option 1: Client App API (OAuth - Recommended, newer)
# Generate from: Administration -> Apps -> API -> Add (select "Client App")
NINJARMM_CLIENT_ID=
NINJARMM_CLIENT_SECRET=

# Optional: OAuth scopes (space-separated). If you get 401 when running scripts, include control/management scopes.
# Example: monitoring management control
NINJARMM_OAUTH_SCOPE=monitoring

# Option 2: Legacy API (Basic Auth - older, being phased out)
# Generate from: Administration -> Apps -> API -> Add (select "Legacy")
# NINJARMM_API_KEY=
# NINJARMM_API_SECRET=
