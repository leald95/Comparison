# SentinelOne API Configuration
# Copy this file to .env and fill in your credentials

# Your SentinelOne console URL (without trailing slash)
# Example: https://your-tenant.sentinelone.net
SENTINELONE_API_URL=

# Your SentinelOne API Token
# Generate from: Console -> Settings -> Users -> [Your User] -> Options -> API Token Operations
SENTINELONE_API_TOKEN=

# Flask / Server Configuration
# Set a stable secret key for sessions (recommended, especially on LAN)
FLASK_SECRET_KEY=

# Bind address and port
FLASK_HOST=0.0.0.0
PORT=5000

# Set to 1 only for local debugging
FLASK_DEBUG=0

# Optional: Basic Auth (recommended if exposing on LAN)
ENABLE_BASIC_AUTH=0
BASIC_AUTH_USERNAME=
BASIC_AUTH_PASSWORD=

# Allow unauthenticated requests from non-local clients (not recommended)
ALLOW_UNAUTHENTICATED_REMOTE=0

# Enable debug endpoints for AD inspection/listing
ENABLE_DEBUG_ENDPOINTS=0

# Session cookie security (set SECURE=1 when behind HTTPS)
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_SECURE=0

# Active Directory intake token (rotate periodically)
# Set CURRENT to a strong random value; keep PREVIOUS during rotation to avoid downtime.
AD_INTAKE_TOKEN_CURRENT=
AD_INTAKE_TOKEN_PREVIOUS=

# Optional: override the callback URL used for AD inventory intake.
# Use this if the server is behind a reverse proxy or you want to force a LAN/public URL.
# Example: https://comparison.example.com/ad/intake
AD_CALLBACK_URL=

# Upload pruning
UPLOAD_RETENTION_HOURS=24

# Comparison history storage
# Options: local (browser localStorage) or sqlite
HISTORY_BACKEND=local
COMPARISON_DB_PATH=comparison_history.db
HISTORY_RETENTION_DAYS=30

# Remediation hardening (recommended)
# If set, ONLY these script IDs are allowed to be executed via /ninjarmm/run-script
NINJARMM_ALLOWED_SCRIPT_IDS=

# Require the device to be currently online before allowing script execution
NINJARMM_REQUIRE_DEVICE_ONLINE=1
NINJARMM_ONLINE_MAX_AGE_SECONDS=300


# NinjaRMM API Configuration
# Your NinjaRMM instance URL for API calls (e.g., https://yourcompany.rmmservice.com)
NINJARMM_API_URL=https://app.ninjarmm.com

# NinjaRMM OAuth server URL (usually https://app.ninjarmm.com - central OAuth server)
# Only change this if your NinjaRMM instance uses a different OAuth server
NINJARMM_OAUTH_URL=https://app.ninjarmm.com

# Choose ONE of the following authentication methods:

# Option 1: Client App API (OAuth - Recommended, newer)
# Generate from: Administration -> Apps -> API -> Add (select "Client App")
# Note: Only authorization_code flow is supported for script execution
NINJARMM_CLIENT_ID=
NINJARMM_CLIENT_SECRET=

# Required: the callback URL for OAuth redirect
# Example: http://localhost:5000/ninjarmm/oauth/callback
NINJARMM_OAUTH_REDIRECT_URI=

# Optional: OAuth scopes (space-separated). Include 'offline_access' to receive refresh tokens.
# Example: monitoring management control offline_access
NINJARMM_OAUTH_SCOPE=monitoring management offline_access
